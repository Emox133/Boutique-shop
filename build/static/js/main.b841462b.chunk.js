(this["webpackJsonpboutique-ecc"]=this["webpackJsonpboutique-ecc"]||[]).push([[0],{187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(41),l=a.n(r),o=a(7),i=a(84),s=a(75),u=a.n(s),m=a(2),d=a(16),g=a(17),f=a(19),b=a(18),p=a(20),E=a(189),h=c.a.createContext(),_=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).state={products:[],bag:[],bagSubTotal:0,bagTax:0,bagTotals:0},a.setProducts=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:E.createClient({space:"kni3brzz1f5j",accessToken:"I_qPrMW7zrsCZGvdscv3uVR3cJC__aQbq14DmZvVgz0"}).getEntries({content_type:"boutiqueEcommerce"}).then((function(e){var t=Object(m.a)(e.items);return t=t.map((function(e){var t=e.sys.id,a=e.fields;return{id:t,title:a.title,price:a.price,material:a.material,count:a.count,manufacturer:a.manufacturer,total:a.total,category:a.category,inBag:a.inBag,image:e.fields.image.fields.file.url}})),a.setState((function(){return{products:t}})),t})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}))},a.persistData=function(){var e=JSON.parse(localStorage.getItem("products")),t=JSON.parse(localStorage.getItem("bag")),n=Object(m.a)(a.state.bag),c=Object(m.a)(a.state.products);e&&c.push.apply(c,Object(m.a)(e)),t&&n.push.apply(n,Object(m.a)(t)),a.setState((function(){return{products:Object(m.a)(c),bag:Object(m.a)(n)}}),(function(){return a.calcTotals()}))},a.addLocalStorage=function(e,t,a){localStorage.setItem("bag",JSON.stringify([].concat(Object(m.a)(e),[a]))),localStorage.setItem("products",JSON.stringify(Object(m.a)(t)))},a.resetLocalStorage=function(e,t){localStorage.removeItem("products"),localStorage.setItem("products",JSON.stringify(Object(m.a)(e))),localStorage.removeItem("bag"),localStorage.setItem("bag",JSON.stringify(Object(m.a)(t)))},a.removeLocalStorage=function(){localStorage.removeItem("bag"),localStorage.removeItem("products")},a.getItem=function(e){return a.state.products.find((function(t){return t.id===e}))},a.addToBag=function(e){var t=Object(m.a)(a.state.products),n=t.indexOf(a.getItem(e)),c=t[n];c.inBag=!0,c.count=1;var r=c.price;c.total=r;var l=Object(m.a)(a.state.bag);a.setState((function(){return{products:Object(m.a)(t),bag:[].concat(Object(m.a)(a.state.bag),[c])}}),(function(){a.addLocalStorage(l,t,c),a.calcTotals()}))},a.removeFromBag=function(e){var t=Object(m.a)(a.state.products),n=Object(m.a)(a.state.bag),c=t.indexOf(a.getItem(e)),r=t[c];r.inBag=!1,r.count=0,r.total=0,n=n.filter((function(t){return t.id!==e})),a.setState((function(){return{bag:Object(m.a)(n),products:Object(m.a)(t)}}),(function(){a.resetLocalStorage(t,n),a.calcTotals()}))},a.getTotals=function(){var e=0;a.state.bag.map((function(t){return e+=t.total}));var t=parseFloat((.17*e).toFixed(2));return{subTotal:e,actualTax:t,total:e+t}},a.calcTotals=function(){var e=a.getTotals();a.setState({bagSubTotal:e.subTotal,bagTax:e.actualTax,bagTotals:e.total})},a.increase=function(e){var t=Object(m.a)(a.state.bag),n=t.find((function(t){return t.id===e})),c=t.indexOf(n),r=t[c];r.count+=1,r.total=r.price*r.count,a.setState((function(){return{bag:Object(m.a)(t)}}),localStorage.removeItem("bag"),localStorage.setItem("bag",JSON.stringify(Object(m.a)(t))),a.calcTotals())},a.decrease=function(e){var t=Object(m.a)(a.state.bag),n=t.find((function(t){return t.id===e})),c=t.indexOf(n),r=t[c];r.count-=1,0===r.count?a.removeFromBag(e):(r.total=r.price*r.count,a.setState((function(){return{bag:Object(m.a)(t)}}),(function(){localStorage.removeItem("bag"),localStorage.setItem("bag",JSON.stringify(Object(m.a)(t))),a.calcTotals()})))},a.clearBag=function(){a.setState((function(){return{bag:[]}}),(function(){return a.setProducts()}),a.calcTotals(),a.removeLocalStorage())},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){null===JSON.parse(localStorage.getItem("products"))?this.setProducts():this.persistData()}},{key:"render",value:function(){return c.a.createElement(h.Provider,{value:Object(i.a)({},this.state,{addToBag:this.addToBag,removeFromBag:this.removeFromBag,increase:this.increase,decrease:this.decrease,clearBag:this.clearBag})},this.props.children)}}]),t}(n.Component),v=h.Consumer,N=a(11),O=function(e){return c.a.createElement("div",{className:"title"},c.a.createElement("h1",{className:e.modify},e.name," ",c.a.createElement("strong",{className:"text-main"},e.title)," ",e.after))},y=function(e){var t=e.items,a=e.value,n=a.removeFromBag,r=a.increase,l=a.decrease;return c.a.createElement("div",{className:"bag__item",id:t.id},c.a.createElement("img",{src:t.image,alt:"clothes",className:"bag__item-image"}),c.a.createElement("h1",{className:"bag__item-title"},t.title),c.a.createElement("h1",{className:"bag__item-material"},"material: ",t.material),c.a.createElement("h1",{className:"bag__item-count"},"count:",c.a.createElement("i",{className:"fas fa-chevron-circle-left",onClick:function(){return l(t.id)}}),t.count,c.a.createElement("i",{className:"fas fa-chevron-circle-right",onClick:function(){return r(t.id)}})),c.a.createElement("button",{className:"alt u-capitalize-text",onClick:function(){return n(t.id)}},"remove item"))},x=function(e){return c.a.createElement("button",{className:[e.name,e.btnType].join(" "),disabled:e.disabled,onClick:e.clicked},e.children)},S=a(80),j=a.n(S),T=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(j.a,{env:"sandbox",client:{sandbox:"AYsphdi65mv2k1VKgt0ykrOkfDvtW6JyEnw9zXmFgru35XqmhfxFY67grOkoOZLdMqxq_OI3PVt70aqv",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:this.props.total,onError:function(e){alert("Something went wrong :("),console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.clearBag(),e.props.history.push("/"),alert("Order was successful :)")},onCancel:function(e){alert("The payment was canceled"),console.log("The payment was cancelled!",e)}})}}]),t}(c.a.Component),k=function(e){var t=e.value,a=t.bagSubTotal,n=t.bagTax,r=t.bagTotals,l=e.value.clearBag;return c.a.createElement("div",{className:"bag__payment"},c.a.createElement("h1",{className:"bag__item-subtotal"},"subtotal: ",a,"$"),c.a.createElement("h1",{className:"bag__item-tax"},"tax: ",n,"$"),c.a.createElement("h1",{className:"bag__item-total"},"total: ",r,"$"),c.a.createElement(x,{name:"bag__item-clear",btnType:"alt",clicked:function(){return l()}},"clear cart",c.a.createElement("i",{className:"fas fa-exclamation-triangle"})),c.a.createElement(T,{total:r,clearBag:l,history:e.history}))},I=function(e){var t=e.data.bag;return c.a.createElement("div",{className:"bag__container u-capitalize-text"},c.a.createElement(O,{modify:"u-capitalize-text u-center-text",name:"your",title:"bag",after:c.a.createElement("i",{className:"fas fa-smile-beam smile"})}),t.map((function(t){return c.a.createElement(y,{key:t.id,items:t,value:e.data})})),c.a.createElement(k,{value:e.data,history:e.history}))},B=function(){return c.a.createElement("div",{className:"bag__empty"},c.a.createElement(O,{modify:"u-capitalize-text u-center-text",name:"your bag is currently",title:"empty",after:c.a.createElement("i",{className:"fas fa-frown"})}))},z=function(e){return c.a.createElement(v,null,(function(t){return t.bag.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(I,{data:t,history:e.history})):c.a.createElement(B,null)}))},w=function(e){return c.a.createElement("div",null,c.a.createElement(O,{modify:"u-capitalize-text u-center-text",name:"the requested page",title:e.location.pathname,after:"was not found (404)"}))},C=function(e){var t=e.product,a=t.id,n=t.title,r=t.price,l=t.manufacturer,o=t.image,i=t.inBag;return c.a.createElement(v,null,(function(e){var t=e.addToBag;return c.a.createElement("div",{className:"clothes__product",id:a},c.a.createElement("div",{className:"clothes__image-container"},c.a.createElement("img",{className:"clothes__image",src:o,alt:"product"}),i?c.a.createElement(x,{name:"clothes__btn--inBag u-capitalize-text u-center-text",btnType:"main",disabled:i},"in bag"):c.a.createElement(x,{name:"clothes__btn u-capitalize-text u-center-text",btnType:"main",clicked:function(){return t(a)}},"add to bag",c.a.createElement("i",{className:"fas fa-shopping-bag"}))),c.a.createElement("div",{className:"clothes__text u-capitalize-text d-flex"},c.a.createElement("h1",{className:"clothes__title"},n),c.a.createElement("h1",{className:"clothes__price"},"$",r),c.a.createElement("h1",{className:"clothes__manufacturer"},l)))}))},q=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(O,{modify:"u-capitalize-text u-center-text",name:"Available",title:"boutique de jeur",after:"products"}),c.a.createElement("main",{className:"clothes"},c.a.createElement(v,null,(function(e){return e.products.map((function(e){return c.a.createElement(C,{key:e.id,product:e})}))}))))},J=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Hello from Details"))},F=function(e){return c.a.createElement("div",{className:"discount__box"},c.a.createElement("div",{className:"discount__center d-flex"},c.a.createElement("span",{className:"discount__count"},e.count),c.a.createElement("span",{className:"discount__sign"},e.sign)),c.a.createElement("h1",{className:"discount__title"},e.title))},P=function(){return c.a.createElement("section",{className:"discount pos-rel"},c.a.createElement("article",{className:"discount__topic u-center-text"},c.a.createElement(O,{modify:"u-uppercase-text text-white",name:"get 10% off only for",title:"new year"}),c.a.createElement(o.b,{to:"/clothes"},c.a.createElement(x,{name:"discount__button"},"Continue Shopping"))),c.a.createElement("div",{className:"discount__price-box"},c.a.createElement(F,{count:"50",sign:"%",title:"t-shirts"}),c.a.createElement("hr",{className:"discount__line--rotated"}),c.a.createElement(F,{count:"20",sign:"%",title:"coats"}),c.a.createElement("hr",{className:"discount__line--rotated"}),c.a.createElement(F,{count:"30",sign:"%",title:"shoes"})),c.a.createElement("div",{className:"discount__footer d-flex"},c.a.createElement("hr",{className:"discount__line--horizontal"}),c.a.createElement("h1",{className:"discount__footer-title"},"Boutique VIP Membership")))},D=a(83),L=a.n(D),V=function(){return c.a.createElement("nav",{className:"nav u-capitalize-text d-flex"},c.a.createElement("div",{className:"nav__logo"},c.a.createElement(o.b,{to:"/"},c.a.createElement("img",{src:L.a,alt:"Company logo",className:"nav__logo-brand"}))),c.a.createElement("ul",{className:"nav__routes d-flex"},c.a.createElement("li",{className:"nav__route-home u-capitalize-text"},c.a.createElement(o.b,{to:"/clothes"},"explore",c.a.createElement("i",{className:"fas fa-search"}))),c.a.createElement("li",{className:"nav__route-home u-capitalize-text"},c.a.createElement(o.b,{to:"/discount"},"discount",c.a.createElement("i",{className:"fas fa-search-dollar"})))),c.a.createElement(o.b,{to:"/bag"},c.a.createElement(x,{name:"btn__bag"},c.a.createElement("i",{className:"fas fa-shopping-bag"}))))},A=function(){return c.a.createElement("section",{className:"cockpit p-rel"},c.a.createElement("div",{className:"cockpit__content u-center-text"},c.a.createElement(O,{modify:"u-center-text u-capitalize-text",name:"Welcome to",title:"boutique de jeur"}),c.a.createElement(o.b,{to:"/clothes"},c.a.createElement(x,{btnType:"main",name:"cockpit__button"},"Shop now"))))},M=(a(187),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,null),c.a.createElement(N.c,null,c.a.createElement(N.a,{path:"/",exact:!0,component:A}),c.a.createElement(N.a,{path:"/clothes",component:q}),c.a.createElement(N.a,{path:"/discount",component:P}),c.a.createElement(N.a,{path:"/details",component:J}),c.a.createElement(N.a,{path:"/bag",component:z}),c.a.createElement(N.a,{component:w})))}}]),t}(n.Component));l.a.render(c.a.createElement(_,null,c.a.createElement(o.a,null,c.a.createElement(M,null))),document.getElementById("root"))},42:function(e,t){},83:function(e,t,a){e.exports=a.p+"static/media/logo.d4aae8a6.png"},85:function(e,t,a){e.exports=a(188)}},[[85,1,2]]]);
//# sourceMappingURL=main.b841462b.chunk.js.map